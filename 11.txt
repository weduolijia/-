mode: rule
mixed-port: 10801
allow-lan: false
log-level: info
ipv6: true
secret: ''
external-controller: 127.0.0.1:9090
find-process-mode: strict # å¯é€‰ è¿›ç¨‹æ¨¡å¼ off/strict/always ï¼ˆå…³é—­/è‡ªé€‚åº”/å¼ºåˆ¶å¼€å¯ï¼‰
unified-delay: false
tcp-concurrent: true
keep-alive-interval: 30
global-client-fingerprint: chrome

profile:
  store-selected: true
  store-fake-ip: true
  
geox-url:
  geoip: "https://github.moeyy.xyz/https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/geoip.dat"
  geosite: "https://github.moeyy.xyz/https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/geosite.dat"
  mmdb: "https://mirror.ghproxy.com/https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/country-lite.mmdb"
  asn: "https://raw.githubusercontent.com/xishang0128/geoip/release/GeoLite2-ASN.mmdb"
geodata-mode: true
geodata-loader: memconservative # å¯é€‰ standard/memconservative æ ‡å‡†åŠ è½½å™¨/ä½å†…å­˜è®¾å¤‡ä¼˜åŒ–åŠ è½½å™¨
geo-auto-update: true
geo-update-interval: 24
global-ua: clash.meta

tun:
  enable: true
  stack: mixed
  dns-hijack:
    - "any:53"
    - "tcp://any:53"
  auto-route: true
  auto-redirect: true
  auto-detect-interface: true
  strict-route: false
  
dns:
  enable: true
  prefer-h3: true 
  use-hosts: true
  use-system-hosts: true
  respect-rules: true
  listen: 0.0.0.0:1053
  ipv6: true
  enhanced-mode: fake-ip # DNS å¤„ç†æ¨¡å¼ normal/fake-ip/redir-host æ— ç‰¹åˆ«éœ€æ±‚/è™šæ‹ŸIP/çœŸå®IP
  fake-ip-range: 198.18.0.1/15
  fake-ip-filter:
    - "*"
    - "+.lan"
    - "+.local"
    - "geosite:cn,private"
    - "rule-set:direct"
  default-nameserver:
    - 223.5.5.5
    - 120.53.53.53
  nameserver-policy:
    "geosite:cn,private":
      - "https://223.6.6.6/dns-query"
      - "https://120.53.53.53/dns-query"
    "rule-set:direct":
      - "https://223.6.6.6/dns-query"
      - "https://120.53.53.53/dns-query"
  nameserver:
    - https://dns.cloudflare.com/dns-query
    - https://dns.google/dns-query
  proxy-server-nameserver:
    - https://223.6.6.6/dns-query
    - https://120.53.53.53/dns-query
hosts:
  time.android.com: 203.107.6.88
  time.facebook.com: 203.107.6.88
  localhost: 127.0.0.1
      
sniffer:
  enable: true
  force-dns-mapping: true
  parse-pure-ip: true
  override-destination: true
  sniff:
    TLS:
      ports:
      - 443
      - 8443
    HTTP:
      ports:
      - 80
      - 8080-8880
      override-destination: true
    QUIC:
      ports:
      - 443
      - 8443
  force-domain:
    - "+.v2ex.com"
    - "google.com"
  skip-domain:
    - "Mijia Cloud"
    - "dlg.io.mi.com"
    - "+.apple.com"  
    
        
proxies:
  - {name: "dns-out", type: dns, udp: true}
        
p: &p
  {type: http, interval: 86400, health-check: {enable: true, url: https://www.gstatic.com/generate_204, interval: 600, timeout: 5000, lazy:true, expected-status: 204}}  
u: &u
  use:
  # - 0.æ ¼å¼æ¨¡æ¿
  - 1.provider
  - 2.provider
proxy-providers:
#<<<<<<<<<<<<<<<<<
  # 0.æ ¼å¼æ¨¡æ¿:
  #   <<: *p  
  #   url: "http://1.1.1.1" (è®¢é˜…åœ°å€-æœ¬åœ°æ–‡ä»¶å¯å¿½ç•¥)
  #   path: ./proxy_providers/provider_subscribe3.yaml  (å¯çµæ´»å˜æ›´-ä¸å¯å†²çª)
  1.provider:
    <<: *p
    url: "https://7l7ju.no-mad-world.club/link/zagrzOSJf9KnLILQ?clash=3&extend=1"
    path: ./proxy_providers/provider_subscribe1.yaml
  2.provider:
    <<: *p
    url: ""
    path: ./proxy_providers/provider_subscribe2.yaml
    #æ³¨æ„ï¼å¦‚æœæ‚¨çš„è®¢é˜…é“¾æ¥ä¸­å¸¦æœ‰â€œ&â€å­—ç¬¦ï¼Œè¯·åˆ æ‰.
    
#>>>>>>>>>>>>>>>>>
##### ä»£ç†ç»„
proxy-groups:
  - {name: ğŸŒŸ æ€»æ¨¡å¼, type: select, proxies: [ğŸš€ èŠ‚ç‚¹é€‰æ‹©,ğŸª è‡ªåŠ¨åˆ‡æ¢,â˜€ï¸ æ‰‹åŠ¨åˆ‡æ¢1,ğŸŒ™ æ‰‹åŠ¨åˆ‡æ¢2,ğŸŒ å…¨çƒç›´è¿,ğŸ‡­ğŸ‡° é¦™æ¸¯,ğŸ‡¨ğŸ‡³ å°æ¹¾,ğŸ‡¯ğŸ‡µ æ—¥æœ¬,ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡,ğŸ‡ºğŸ‡¸ ç¾å›½,ğŸ‡ºğŸ‡³ å…¶å®ƒåœ°åŒº]}
  - {name: ğŸš€ èŠ‚ç‚¹é€‰æ‹©, type: select, proxies: [ğŸª è‡ªåŠ¨åˆ‡æ¢,ğŸŒ å…¨çƒç›´è¿], <<: *u}
  - {name: ğŸª è‡ªåŠ¨åˆ‡æ¢, <<: *u, tolerance: 2, type: url-test, filter: "(?i)^(?!.*emby).*"}
  - {name: â˜€ï¸ æ‰‹åŠ¨åˆ‡æ¢1, type: select, proxies: [ğŸš€ èŠ‚ç‚¹é€‰æ‹©,ğŸŒ å…¨çƒç›´è¿], <<: *u}
  - {name: ğŸŒ™ æ‰‹åŠ¨åˆ‡æ¢2, type: select, proxies: [ğŸš€ èŠ‚ç‚¹é€‰æ‹©,ğŸŒ å…¨çƒç›´è¿], <<: *u}
  - {name: ğŸ¤– AI, type: select, proxies: [ğŸŒŸ æ€»æ¨¡å¼,ğŸª è‡ªåŠ¨åˆ‡æ¢,â˜€ï¸ æ‰‹åŠ¨åˆ‡æ¢1,ğŸŒ™ æ‰‹åŠ¨åˆ‡æ¢2,ğŸŒ å…¨çƒç›´è¿,ğŸ‡­ğŸ‡° é¦™æ¸¯,ğŸ‡¨ğŸ‡³ å°æ¹¾,ğŸ‡¯ğŸ‡µ æ—¥æœ¬,ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡,ğŸ‡ºğŸ‡¸ ç¾å›½,ğŸ‡ºğŸ‡³ å…¶å®ƒåœ°åŒº]}
  - {name: ğŸ“² Telegram, type: select, proxies: [ğŸŒŸ æ€»æ¨¡å¼,ğŸª è‡ªåŠ¨åˆ‡æ¢,â˜€ï¸ æ‰‹åŠ¨åˆ‡æ¢1,ğŸŒ™ æ‰‹åŠ¨åˆ‡æ¢2,ğŸŒ å…¨çƒç›´è¿,ğŸ‡­ğŸ‡° é¦™æ¸¯,ğŸ‡¨ğŸ‡³ å°æ¹¾,ğŸ‡¯ğŸ‡µ æ—¥æœ¬,ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡,ğŸ‡ºğŸ‡¸ ç¾å›½,ğŸ‡ºğŸ‡³ å…¶å®ƒåœ°åŒº]}
  - {name: ğŸ¦ YouTube, type: select, proxies: [ğŸŒŸ æ€»æ¨¡å¼,ğŸª è‡ªåŠ¨åˆ‡æ¢,â˜€ï¸ æ‰‹åŠ¨åˆ‡æ¢1,ğŸŒ™ æ‰‹åŠ¨åˆ‡æ¢2,ğŸŒ å…¨çƒç›´è¿,ğŸ‡­ğŸ‡° é¦™æ¸¯,ğŸ‡¨ğŸ‡³ å°æ¹¾,ğŸ‡¯ğŸ‡µ æ—¥æœ¬,ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡,ğŸ‡ºğŸ‡¸ ç¾å›½,ğŸ‡ºğŸ‡³ å…¶å®ƒåœ°åŒº]}
  - {name: ğŸ¿ Netflix, type: select, proxies: [ğŸŒŸ æ€»æ¨¡å¼,ğŸª è‡ªåŠ¨åˆ‡æ¢,â˜€ï¸ æ‰‹åŠ¨åˆ‡æ¢1,ğŸŒ™ æ‰‹åŠ¨åˆ‡æ¢2,ğŸŒ å…¨çƒç›´è¿,ğŸ‡­ğŸ‡° é¦™æ¸¯,ğŸ‡¨ğŸ‡³ å°æ¹¾,ğŸ‡¯ğŸ‡µ æ—¥æœ¬,ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡,ğŸ‡ºğŸ‡¸ ç¾å›½,ğŸ‡ºğŸ‡³ å…¶å®ƒåœ°åŒº]}
  - {name: ğŸ§‹ Bilibili, type: select, proxies: [ğŸŒŸ æ€»æ¨¡å¼,â˜€ï¸ æ‰‹åŠ¨åˆ‡æ¢1,ğŸŒ™ æ‰‹åŠ¨åˆ‡æ¢2,ğŸŒ å…¨çƒç›´è¿,ğŸ‡­ğŸ‡° é¦™æ¸¯,ğŸ‡¨ğŸ‡³ å°æ¹¾]}
  - {name: ğŸ¨ EMBY, type: select, proxies: [ğŸŒŸ æ€»æ¨¡å¼,ğŸŒ å…¨çƒç›´è¿,ğŸ‡­ğŸ‡° é¦™æ¸¯,ğŸ‡¨ğŸ‡³ å°æ¹¾,ğŸ‡¯ğŸ‡µ æ—¥æœ¬,ğŸ‡ºğŸ‡³ å…¶å®ƒåœ°åŒº], <<: *u, filter: "(?i)emby|plex|media"}
  - {name: ğŸ“¸ TikTok, type: select, proxies: [ğŸŒŸ æ€»æ¨¡å¼,ğŸª è‡ªåŠ¨åˆ‡æ¢,â˜€ï¸ æ‰‹åŠ¨åˆ‡æ¢1,ğŸŒ™ æ‰‹åŠ¨åˆ‡æ¢2,ğŸŒ å…¨çƒç›´è¿,ğŸ‡­ğŸ‡° é¦™æ¸¯,ğŸ‡¨ğŸ‡³ å°æ¹¾,ğŸ‡¯ğŸ‡µ æ—¥æœ¬,ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡,ğŸ‡ºğŸ‡¸ ç¾å›½,ğŸ‡ºğŸ‡³ å…¶å®ƒåœ°åŒº]}
  - {name: ğŸ“¢ Google, type: select, proxies: [ğŸŒŸ æ€»æ¨¡å¼,ğŸª è‡ªåŠ¨åˆ‡æ¢,â˜€ï¸ æ‰‹åŠ¨åˆ‡æ¢1,ğŸŒ™ æ‰‹åŠ¨åˆ‡æ¢2,ğŸŒ å…¨çƒç›´è¿,ğŸ‡­ğŸ‡° é¦™æ¸¯,ğŸ‡¨ğŸ‡³ å°æ¹¾,ğŸ‡¯ğŸ‡µ æ—¥æœ¬,ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡,ğŸ‡ºğŸ‡¸ ç¾å›½,ğŸ‡ºğŸ‡³ å…¶å®ƒåœ°åŒº]}
  - {name: â“‚ï¸ Microsoft, type: select, proxies: [ğŸŒŸ æ€»æ¨¡å¼,ğŸª è‡ªåŠ¨åˆ‡æ¢,â˜€ï¸ æ‰‹åŠ¨åˆ‡æ¢1,ğŸŒ™ æ‰‹åŠ¨åˆ‡æ¢2,ğŸŒ å…¨çƒç›´è¿,ğŸ‡­ğŸ‡° é¦™æ¸¯,ğŸ‡¨ğŸ‡³ å°æ¹¾,ğŸ‡¯ğŸ‡µ æ—¥æœ¬,ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡,ğŸ‡ºğŸ‡¸ ç¾å›½,ğŸ‡ºğŸ‡³ å…¶å®ƒåœ°åŒº]
